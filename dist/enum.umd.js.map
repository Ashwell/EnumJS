{"version":3,"file":"enum.umd.js","sources":["../src/define.js","../src/arg-parse.js","../src/create-proto.js","../src/enum.js","../src/assign.js","../src/assign-to.js","../src/api.es5.js"],"sourcesContent":["\nvar\n  define,\n  defaults = {\n    configurable: false,\n    enumerable: true,\n    writable: false\n  };\n\ndefine = function( instance, name, value, traits={}) {\n  traits = Object.assign({}, defaults, traits, { value });\n  return Object.defineProperty( instance, name, traits );\n};\n\nexport default define;\n","\n/**\n * possible argument signatures\n *  $enum( ...names )\n *  $enum({ name: value })\n *  $enum([ names ])\n *  $enum( startIndex, [ names ])\n *\n * transformed to [ keys<Array>, [values<Array>] ]\n**/\nvar\n  intRange,\n  getKeyValueFromObject,\n\nintRange = function( first, last ) {\n  var\n    curr = typeof first === 'number' ? first : 0,\n    arr = [ curr ];\n\n  while ( last > ++curr ) {\n    arr.push( curr );\n  }\n\n  return arr;\n};\n\ngetKeyValueFromObject = function( object ) {\n  var\n    keys = [],\n    values = [];\n\n  Object.keys( object ).forEach( key => {\n    keys.push( key );\n    values.push( object[ key ]);\n  });\n\n  return [ keys, values ];\n};\n\nexport default function argParse( ...args ) {\n  var [ first, second ] = args;\n\n  // single argument, ( object | array | string )\n  if ( args.length === 1 ) {\n    let\n      firstType = typeof first,\n      firstIsArray = Array.isArray( first );\n\n    // arg is a single object of key value pairs\n    if ( firstType !== 'string' && !firstIsArray ) {\n      return getKeyValueFromObject( first );\n    }\n\n    // argument is a single array\n    if ( firstIsArray ) {\n      return [ first, intRange( 0, first.length )];\n    }\n\n    // argument is a 'single string'\n    return [ args, [ 0 ]];\n  }\n\n  // two arguments, ( startIndex, [ names ])\n  if ( args.length === 2 && Array.isArray( second )) {\n    return [ second, intRange( first, second.length + first )];\n  }\n\n  // \"unlimited\" args, ( ...names );\n  return [ args, intRange( 0, args.length )];\n}\n","\nimport define from './define';\n\nexport default function createProto( keys, values, constructor ) {\n  var proto = {};\n\n  define( proto, 'length', keys.length );\n  define( proto, 'keys', keys, { enumerable: false });\n  define( proto, 'values', values, { enumerable: false });\n  define( proto, 'toString' );\n  define( proto, Symbol.toStringTag, function(){}, { enumerable: false });\n  define( proto, Symbol.iterator );\n\n  proto.constructor = constructor;\n  return Object.freeze( proto );\n}\n","\nimport define from './define';\nimport argParse from './arg-parse';\nimport createProto from './create-proto';\n\nvar factory;\n\nfactory = function( keys, values ) {\n//  console.log( 'factory arguments: keys, values' );\n//  console.log( keys );\n//  console.log( values );\n  var Enum = function() {\n    keys.forEach(( key, index ) => define( this, key, values[ index ]));\n  };\n\n  Enum.prototype = createProto( keys, values, Enum );\n  return Object.freeze( new Enum());\n};\n\nexport default function $enum( ...args ) {\n  return factory( ...argParse( ...args ));\n}\n","\nimport define from './define';\nimport $enum from './enum';\n\nvar assign;\n\nassign = function ( enumInstance, assignTo ) {\n  for ( let { key, value } of enumInstance ) {\n    define( assignTo, key, value );\n  }\n};\n\nexport default assign;\n","\nimport argParse from './arg-parse';\nimport $enum from './enum';\n\nvar assignTo;\n\nassignTo = function assignTo( assignee, ...args ) {\n  assign( $enum( ...argParse( ...args )), assignee );\n};\n\nexport default assignTo;\n","\nimport $enum from './enum';\nimport assign from './assign';\nimport assignTo from './assign-to';\n\n$enum.assign = assign;\n$enum.assignTo = assignTo;\n\nexport default $enum;\n\n"],"names":["define","assign","assignTo"],"mappings":"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"}