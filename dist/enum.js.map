{"version":3,"file":"enum.js","sources":["../src/define.js","../src/arg-parse.js","../src/create-proto.js","../src/enum.js","../src/assign.js","../src/assign-to.js"],"sourcesContent":["\nvar\n  define,\n  defaults = {\n    configurable: false,\n    enumerable: true,\n    writable: false\n  };\n\ndefine = function( instance, name, value, traits={}) {\n  traits = Object.assign({}, defaults, traits, { value });\n  return Object.defineProperty( instance, name, traits );\n};\n\nexport default define;\n","\n/**\n * possible argument signatures\n *  $enum( ...names )\n *  $enum({ name: value })\n *  $enum([ names ])\n *  $enum( startIndex, [ names ])\n *\n * transformed to [ keys<Array>, [values<Array>] ]\n**/\nvar\n  intRange,\n  getKeyValueFromObject,\n\nintRange = function( first, last ) {\n  var\n    curr = typeof first === 'number' ? first : 0,\n    arr = [ curr ];\n\n  while ( last > ++curr ) {\n    arr.push( curr );\n  }\n\n  return arr;\n};\n\ngetKeyValueFromObject = function( object ) {\n  var\n    keys = [],\n    values = [];\n\n  Object.keys( object ).forEach( key => {\n    keys.push( key );\n    values.push( object[ key ]);\n  });\n\n  return [ keys, values ];\n};\n\nexport default function argParse( ...args ) {\n  var [ first, second ] = args;\n\n  // single argument, ( object | array | string )\n  if ( args.length === 1 ) {\n    let\n      firstType = typeof first,\n      firstIsArray = Array.isArray( first );\n\n    // arg is a single object of key value pairs\n    if ( firstType !== 'string' && !firstIsArray ) {\n      return getKeyValueFromObject( first );\n    }\n\n    // argument is a single array\n    if ( firstIsArray ) {\n      return [ first, intRange( 0, first.length )];\n    }\n\n    // argument is a 'single string'\n    return [ args, [ 0 ]];\n  }\n\n  // two arguments, ( startIndex, [ names ])\n  if ( args.length === 2 && Array.isArray( second )) {\n    return [ second, intRange( first, second.length + first )];\n  }\n\n  // \"unlimited\" args, ( ...names );\n  return [ args, intRange( 0, args.length )];\n}\n","\nimport define from './define';\n\nexport default function createProto( keys, values, constructor ) {\n  var proto = {};\n\n  define( proto, 'length', keys.length );\n  define( proto, 'keys', keys, { enumerable: false });\n  define( proto, 'values', values, { enumerable: false });\n  define( proto, 'toString' );\n  define( proto, Symbol.toStringTag, function(){}, { enumerable: false });\n  define( proto, Symbol.iterator );\n\n  proto.constructor = constructor;\n  return Object.freeze( proto );\n}\n","\nimport define from './define';\nimport argParse from './arg-parse';\nimport createProto from './create-proto';\n\nvar factory;\n\nfactory = function( keys, values ) {\n//  console.log( 'factory arguments: keys, values' );\n//  console.log( keys );\n//  console.log( values );\n  var Enum = function() {\n    keys.forEach(( key, index ) => define( this, key, values[ index ]));\n  };\n\n  Enum.prototype = createProto( keys, values, Enum );\n  return Object.freeze( new Enum());\n};\n\nexport default function $enum( ...args ) {\n  return factory( ...argParse( ...args ));\n}\n","\nimport define from './define';\nimport $enum from './enum';\n\nvar assign;\n\nassign = function ( enumInstance, assignTo ) {\n  for ( let { key, value } of enumInstance ) {\n    define( assignTo, key, value );\n  }\n};\n\nexport default assign;\n","\nimport argParse from './arg-parse';\nimport $enum from './enum';\n\nvar assignTo;\n\nassignTo = function assignTo( assignee, ...args ) {\n  assign( $enum( ...argParse( ...args )), assignee );\n};\n\nexport default assignTo;\n"],"names":["define","assign"],"mappings":"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"}